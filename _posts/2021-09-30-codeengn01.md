---
title: "Welcome to my blog"
categories: CodeEngn basic
tags: CodeEngn
---

파일을 실행해 보면
![basic1-2](https://user-images.githubusercontent.com/91646923/135452535-ee2b2621-1efb-4dda-b160-1c4d01cd5fb0.JPG)
![basic1-3](https://user-images.githubusercontent.com/91646923/135452619-20fd410f-5256-4c4e-b965-84e4b4a322fc.JPG)
위의 두개의 창이 뜨는 것을 볼 수 있다. 
프로그램을 디버깅 하기 전에 PE View를 사용해서 프로그램 시작점인 Entry Point(Image Base + RVA) 401000인 것을 확인할 수 있다.
![basic1](https://user-images.githubusercontent.com/91646923/135452709-811dc035-2ccb-41c2-9185-eaabe67533db.JPG)
이제 올리디버거를 사용하여 프로그램을 천천히 확인해 보면
![basic1-4](https://user-images.githubusercontent.com/91646923/135452728-36302e23-e836-4c87-9b3d-cd0f6924ff67.JPG)
401018주소의 GetDriveType함수가 전달받은 RootPath가 어떠한 종류의 드라이브인지 판별하여 결과 값을 eax에 저장하고 
그 결과 값을 연산하여 4010214주소의 cmp 함수를 이용해 비교한 뒤 결과 값이 같으면 성공 메시지를 보내는 것으로 보이는데 
GetDriveType함수에 브레이크 포인트를 걸고 실행 한 뒤 eax 레지스터를 확인하면 3인 것을 볼 수 있고 
40101D부터 401023까지의 연산식을 확인하면 eax를 2번 빼고 esi를 3번 더해 비교하는 것을 알 수 있다. 
결과 값이 같아야 하므로 eax레지스터의 값을 5로 바꿔주면 성공 메시지를 확인 할 수 있다.
![basic1-5](https://user-images.githubusercontent.com/91646923/135452761-17b66ecc-118c-41d6-8a21-30fd5e1a7422.JPG)

 
